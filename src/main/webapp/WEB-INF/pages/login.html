<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>登录</title>
    <script src="/jquery-3.2.1.js"></script>
</head>
<body>
<link rel="stylesheet" href="../../bootstrap.min.css">
<div class="container" id="div">
    <div class="input-group col-md-4 col-md-offset-4">
        <span class="input-group-addon" id="basic-addon1">用户名</span>
        <input id="u" type="text" class="form-control" name="userName" aria-describedby="basic-addon1">
    </div>

    <div class="input-group col-md-4 col-md-offset-4">
        <span class="input-group-addon" id="basic-addon2">密码</span>
        <input id="p" type="text" class="form-control" name="password" aria-describedby="basic-addon1">
    </div>
    <button id="a" class="btn btn-default col-md-4 col-md-offset-4 " role="button">登录</button>
    <a class="btn btn-default col-md-4 col-md-offset-4 " href="registers" role="button">注册</a>
</div>
<script>
    //    $(function () {
    //        $("#a").click(function () {
    //            var u = $(" input[ name='userName' ] ").val();
    //            var p = $(" input[ name='password' ] ").val();
    //            $(this).attr("href", "login?userName=" + u + "&password=" + p);
    //
    //        });
    //    });
    $("#a").on("click", function () {
        var userName = $("#u").val();
        var password = $("#p").val();
        $.ajax({
                    url: "/login",
                    type: "POST",
                    data: {"userName": userName, "password": password},
                    success: function (data) {
                        if (data == "success") {
                            window.location.href = '/Blog';
                        }else {
                            window.location.href = '/error';
                        }
                    }
                }
        )
    })

</script>
</body>
</html>